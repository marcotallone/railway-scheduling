<!doctype html>
<html lang="en">

	<!-- Head ---------------------------------------------------------------->
	<head>

		<!-- Metadata -->
		<meta charset="utf-8">
		<meta name="viewport"
					content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Railway Scheduling</title>
		<meta name="description" content="Mathematical Optimization Exam">
		<meta name="author" content="Marco Tallone">

		<!-- Style Settings -->
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/personal.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/nnfx-light.css">

		<!-- Personal CSS Styling -->
		<link rel="stylesheet" href="style.css" />

		<!-- Other packages settings -->
		<!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->

	</head>

	<!-- Body ---------------------------------------------------------------->
	<body>

		<!-- Start of slides -->
		<div class="reveal">
		<div class="slides">

		<!-- Slide 1: Title -------------------------------------------------->
		<section 
			 data-transition="fade"
			 data-state="hide-menubar hide-menu"
		>

			<!-- Main Title -->
			<div class="main-title-body" data-id="title-container">
				<h1>Scheduling of Railway Maintainance Projects</h1>

				<!-- Subtitle -->
				<p style="font-size: 0.8em;">
					Exam Project<br> 
					Mathematical Optimization Course<br>
					SDIC Master Degree, University of Trieste (UniTS)
				</p>

				<!-- Author and Date -->
				<p style="font-size: 0.8em;">
					Marco Tallone<br>
					June 2025
				</p>

				<!-- Logos -->
				<div class="main-title-logos">
					<div class="main-title-logo-item">
						<img src="./images/sdic-logo.png" height="200px" />
					</div>
					<div class="main-title-logo-item">
						<img src="./images/units-blue.png" height="200px" />
					</div>
				</div>

			</div>

		</section>

		<!-- Slide 2: ToC ------------------------------------------------------>
		<section data-state="hide-menubar hide-menu" >

			<div class="slide-body">

				<div class="cbox" 
							style="background-color: var(--primary);
										 text-align: center;
										 color: white;
										 padding: 30px;
										 font-size: 1em;
					">
				<h2 style="color: white;">Table of Contents</h2>
				<ol class="spaced-list">
					<li>Model Description</li>
						<ul class="spaced-sublist">
							<li>Problem Description</li>
							<li>Decision Variables</li>
							<li>Objective</li>
							<li>Constraints</li>
						</ul>
					<li>Model Improvements</li>
						<ul class="spaced-sublist">
							<li>Fixing Variables</li>
							<li>Meta-Heuristics</li>
							<li>Valid Inequalities</li>
						</ul>
					<li>Scalability Analysis</li>
				</ol>
				</div>

			</div>
			
		</section>


		<!-- Section: Model Description  --------------------------------------->
		<section data-name="1. Model Description">

			<section data-background-color="var(--primary)">
				<div class="section-title-body">
					<h1 style="font-size: 2em;">Model Description</h1>
				</div>
			</section>

			<!-- Slide 3 -->
			<section data-transition="slide">
				<h1 class="slide-title">Problem description</h1>

				<div class="slide-body">

						<p>
						Finite discrete time horizon:
						\[
							T = \{1, 2, \ldots, T_{end}\}
						\]
						</p>
						<p>
						Nodes representing the railway stations:
						\[
							N = \{1, 2, \ldots, n\}
						\]
						</p>
						<p>
						Bidirecitonal arcs connecting stations:
						\[
							\mathcal{A} = \{(i, j) \mid \forall i, j \in N, i &lt; j\}
						\]
						</p>
						<!-- <p> -->
						<!-- Travel times by train: -->
						<!-- \[ -->
						<!-- 	\omega^e_a \in \mathbb{R}^+  -->
						<!-- \] -->
						<!-- </p> -->
						<!-- <p> -->
						<!-- Travel times by alternative services: -->
						<!-- \[ -->
						<!-- 	\omega^j_a \in \mathbb{R}^+  -->
						<!-- \] -->
						<!-- </p> -->
						<!-- <p> -->
						<!-- Average times by train for each origin-destination pair: -->
						<!-- \[ -->
						<!-- 	\Omega_{od}, \quad \forall (o, d) \in N \times N \mid o \neq d -->
						<!-- \] -->
						<!-- </p> -->
						<!-- <p> -->
						<!-- Set of maintenance jobs: -->
						<!-- \[ -->
						<!-- 	J = \{1, 2, \ldots, n_{\text{jobs}}\} -->
						<!-- \] -->
						<!-- </p> -->
						
					<div style="height: 100%; aspect-ratio: 1; margin: 0 auto;">
						<!-- Plot stations -->
						<iframe
							src="stations_plot3.html"
							style="
								width: 100%;
								height:100%;
								margin: 0 auto;
								border:0;
							"
							frameborder="0"
							scrolling="no"
						>
						</iframe>
					</div>

				</div>

			</section>

			<!-- Slide 4 -->
			<section data-transition="slide">
				<h1 class="slide-title">Decision Variables</h1>

				<div class="slide-body">

					<div class="slide-text">
						<p style="margin: 30px 0px 30px 0px;">
						The decision variables of the model are the following:
						</p>
						<ol class="list">
							<li>
								&nbsp;&nbsp;&nbsp;$y_{jt}$:&nbsp;&nbsp;&nbsp; binary variable that is equal to 1 if job $j$ starts at time $t$, 0 otherwise
							</li>
							<li>
								&nbsp;&nbsp;&nbsp;$x_{at}$:&nbsp;&nbsp;&nbsp; binary variable that is equal to 1 if arc $a$ is available (by train) at time $t$, 0 otherwise
							</li>
							<li>
								&nbsp;&nbsp;&nbsp;$h_{odtk}$:&nbsp;&nbsp;&nbsp; binary variable that is equal to 1 if route option $k$ is used when travelling from origin $o$ to destination $d$ at time $t$, 0 otherwise
							</li>
							<li>
								&nbsp;&nbsp;&nbsp;$w_{at}$:&nbsp;&nbsp;&nbsp; continuous variable representing the travel time traversing arc $a$ at time $t$
							</li>
							<li>
								&nbsp;&nbsp;&nbsp;$v_{odt}$:&nbsp;&nbsp;&nbsp; continuous variable representing the travel time from origin $o$ to destination $d$ at time $t$
							</li>
						</ol>
					</div>

				</div>

			</section>

			<!-- Slide 5 -->
			<section data-transition="slide">
				<h1 class="slide-title">Objective</h1>

				<div class="slide-body">

					<div class="slide-text">
					<p>
						The goal of the model is to <b>minimize the total passenger delay</b> in the network.
					</p>
					<p>
						<b>Delay</b> = <b>increase in the travel time</b> compared to the
						average travel time $\Omega_{od}$ between an origin $o$ and a
						destination $d$.
					</p>

					<p>
						According to this, the following objective function is defined:
						\[
						\underset{v}{\min}
						\sum_{(o,d) \in N \times N} \sum_{t \in T}
						\phi_{odt} (v_{odt} - \Omega_{odt})
						\tag{1}
						\]
					</p>

					</div>

				</div>

			</section>

			<!-- Slide 6 -->
			<!-- <section data-transition="slide"> -->
			<section data-transition="slide" data-auto-animate>
				<h1 class="slide-title" data-id="constraints-title">Constraints</h1>

				<div class="slide-body">

					<!-- 2 -->
					<div class="slide-text">
						A feasible solution of this model schedules all the jobs within the time horizon $T_{end}$
						\[
						\sum_{t=1}^{T_{end} - \pi_j + 1} y_{jt} = 1, \quad \forall j \in J
						\tag{2}
						\]
					</div>
					<!-- 3 -->
					<div class="slide-text">
						Each job must start only once and, while it's being processed, the subset
						$\mathcal{A}_j$ of its arcs must be unavailable for other jobs (since they are occupied) \[
						x_{at} + \sum_{t'=\min(1, t-\pi_j+1)}^{\max(T_{end}, t)} y_{jt'} \leq 1, \quad \forall a \in \mathcal{A}, \forall t \in T, \forall j \in J_a
						\tag{3}
						\]
					</div>

				</div>

			</section>
			<section data-transition="slide" data-auto-animate>
				<h1 class="slide-title" data-id="constraints-title">Constraints</h1>

				<div class="slide-body">

					<!-- 4 -->
					<div class="slide-text">
						Accordingly the travel time $w_{at}$ on an arc $a$ at time $t$ depends on the availability of the train services on that arc by the following constraint:
						\[
						w_{at} = \omega^e_a x_{at} + \omega^j_a (1 - x_{at}), \quad \forall a \in \mathcal{A}, \forall t \in T
						\tag{4}
						\]
					</div>
					<!-- 5 -->
					<div class="slide-text">
						Since variables $x_{at}$ are only bounded by $(3)$, an optional constraint is added to ensure the correct arc traversal time for free variables:
						\[
						\underbrace{\sum_{t \in T} x_{at}}_{\text{total time}\atop\text{availability of
						arc }a}
						= T_{end} - 
						\underbrace{\sum_{j \in J_a} \pi_j,}_{\text{total processing time}\atop\text{of jobs on }a} \quad \forall a \in
						\mathcal{A}
						\tag{5}
						\]
					</div>

				</div>

			</section>
			<section data-transition="slide" data-auto-animate>
				<h1 class="slide-title" data-id="constraints-title">Constraints</h1>

				<div class="slide-body">

					<!-- 6 -->
					<div class="slide-text">
						Due to the fact that there might be multiple combinations $c$ of arcs that cannot be unavailable simultaneously according to set $C$, the following constraint is added:
						\[
						\sum_{a \in c} (1 - x_{at}) \leq 1, \quad \forall c \in C, \forall t \in T
						\tag{6}
						\]
					</div>
					<!-- 7 -->
					<div class="slide-text">
						Since jobs on the same arc cannot overlap in time the following constriant is needed:
						\[
						\sum_{j \in J_a} \sum_{t'=\max(1, t-\pi_j-\tau_a)}^{T_{end}} y_{jt'} \leq 1, \quad \forall t \in T, \forall a \in \mathcal{A}
						\tag{7}
						\]
					</div>

				</div>

			</section>
			<section data-transition="slide" data-auto-animate>
				<h1 class="slide-title" data-id="constraints-title">Constraints</h1>

				<div class="slide-body">

					<!-- 8 -->
					<div class="slide-text">
						For a track segment $s$ included in an event request the passenger flow in the peak moment of the considered time period must be less than the capacity of the alternative services:
						\[
						\sum_{a \in s} \sum_{(o,d) \in N \times N} \sum_{\substack{i = 1 \\ a \in R_{odi}}}^K h_{odti} \beta_{odt} \phi_{odt} \leq \Lambda_{st} + M \sum_{a \in s} x_{at}, \quad \forall s \in E_t, \forall t \in T
						\tag{8}
						\]
					</div>
					<!-- 9 -->
					<div class="slide-text">
						Concerning alternative routes, we must ensure that passenger flow is served by at least one (and no more than one) of the $K$ possible routes:
						\[
						\sum_{i = 1}^K h_{odti} = 1, \quad \forall (o,d) \in N \times N, \forall t \in T
						\tag{9}
						\]
					</div>

				</div>

			</section>
			<section data-transition="slide" data-auto-animate>
				<h1 class="slide-title" data-id="constraints-title">Constraints</h1>

				<div class="slide-body">

					<!-- 10 and 11 -->
					<div class="slide-text">
						Accordingly, the following two constraints provide a lower and an upper bound for the travel time from origin $o$ to destination $d$ at time $t$:
						\[
						v_{odt} \geq \sum_{a \in R_{odi}} w_{at} - M (1 - h_{odti}), \quad \forall i \in \{1,\dots,K\}, \forall (o,d) \in N \times N, \forall t \in T
						\tag{10}
						\]
						\[
						v_{odt} \leq \sum_{a \in R_{odi}} w_{at}, \quad \forall (o,d) \in N \times N, \forall t \in T
						\tag{11}
						\]
					</div>

				</div>

			</section>
			<!-- <section data-transition="slide" data-auto-animate> -->
			<!-- 	<h1 class="slide-title" data-id="constraints-title">Constraints</h1> -->
			<!---->
			<!-- 	<div class="slide-body"> -->
			<!---->
					<!-- 12 -->
			<!-- 		<div class="slide-text"> -->
			<!-- 			 -->
			<!-- 			\[ -->
			<!-- 			\] -->
			<!-- 		</div> -->
					<!-- 13 -->
			<!-- 		<div class="slide-text"> -->
			<!---->
			<!-- 			\[ -->
			<!-- 			\] -->
			<!-- 		</div> -->
			<!---->
			<!-- 	</div> -->
			<!---->
			<!-- </section> -->
			<section data-transition="slide">
				<h1 class="slide-title">Example</h1>

				<div class="slide-body">

				</div>
			</section>

		</section>


		<!-- Section: Model Improvements  -------------------------------------->
		<section data-name="2. Model Improvements">

			<section data-background-color="var(--primary)">
				<div class="section-title-body">
					<h1 style="font-size: 2em;">Model Improvements</h1>
				</div>
			</section>

			<!-- Slide N -->
			<!-- <section data-transition="slide"> -->
			<!-- 	<h1 class="slide-title">SlideTitle</h1> -->
			<!---->
			<!-- 	<div class="slide-body"> -->
			<!---->
			<!-- 	</div> -->
			<!---->
			<!-- </section> -->

		</section>

		<!-- Section: Scalability Analysis ------------------------------------->
		<section data-name="3. Scalability Analysis">

			<section data-background-color="var(--primary)">
				<div class="section-title-body">
					<h1 style="font-size: 2em;">Scalability Analysis</h1>
				</div>
			</section>

			<!-- Slide N -->
			<!-- <section data-transition="slide"> -->
			<!-- 	<h1 class="slide-title">SlideTitle</h1> -->
			<!---->
			<!-- 	<div class="slide-body"> -->
			<!---->
			<!-- 	</div> -->
			<!---->
			<!-- </section> -->

		</section>


		<!-- Section: Appendix -----------------.--------------------------->
		<section data-name="Appendix 1" data-sm="false">
			<a id="appendix1"></a>
			<h1 class="slide-title">Appendix $1$: Dense Formulation matrices</h1>

			<div class="slide-body">

				\[
				\begin{aligned}
				\mathcal{A} &= \begin{bmatrix}
				\mathbb{I}\\
				\mathbf{A}_{d,k}\\
				\mathbf{A}_{d,k+1} \mathbf{A}_{d,k}\\
				\vdots\\
				\mathbf{A}_{d,k+N-2} \ldots \mathbf{A}_{d,k}
				\end{bmatrix}\\ 
				\mathcal{B} &= \begin{bmatrix}
				\mathbf{0} & \mathbf{0} & \ldots & \mathbf{0} & \mathbf{0}\\
				\mathbf{B}_{d,k} & \mathbf{0} & \ldots & \mathbf{0} & \mathbf{0}\\
				\mathbf{A}_{d,k+1} \mathbf{B}_{d,k} & \mathbf{B}_{d,k+1} & \ldots & \mathbf{0} & \mathbf{0}\\
				\vdots & \vdots & \ddots & \vdots\\
				\mathbf{A}_{d,k+N-2} \ldots \mathbf{A}_{d,k} \mathbf{B}_{d,k} & \ldots & \ldots &
				\mathbf{B}_{d,k+N-2} & \mathbf{0}
				\end{bmatrix}\\
				\text{and}\quad \mathcal{D} &= \begin{bmatrix}
				\mathbf{0}\\
				\mathbf{d}_k\\
				\mathbf{A}_{d,k+1} \mathbf{d}_k + \mathbf{d}_{k+1}\\
				\mathbf{A}_{d,k+2} \mathbf{A}_{d,k+1} \mathbf{d}_k + \mathbf{A}_{d,k+2}
				\mathbf{d}_{k+1} + \mathbf{d}_{k+2}\\
				\vdots
				\end{bmatrix}
				\end{aligned}
				\]

			<div>
				<a href="#dense-and-sparse-link" class="back-button">Back to <b>Dense & Sparse
						Formulations</b></a>
			</div>

			</div>
		</section>
		<section data-name="Appendix 2" data-sm="false">
			<a id="appendix2"></a>
			<h1 class="slide-title">Appendix $2$: Sparse Formulation matrices</h1>

			<div class="slide-body">

				\[
				\begin{aligned}
				\mathcal{A} &= \begin{bmatrix}
				\mathbf{0} & \mathbf{0} & \ldots & \mathbf{0} & \mathbf{0}\\
				\mathbf{A}_{d,k} & \mathbf{0} & \ldots & \mathbf{0} & \mathbf{0}\\
				\mathbf{0} & \mathbf{A}_{d,k+1} & \ldots & \mathbf{0} & \mathbf{0}\\
				\vdots & \vdots & \ddots & \vdots\\
				\mathbf{0} & \mathbf{0} & \ldots & \mathbf{A}_{d,k+N-1} & \mathbf{0}
				\end{bmatrix}\\
				\mathcal{B} &= \begin{bmatrix}
				\mathbf{0} & \mathbf{0} & \ldots & \mathbf{0} & \mathbf{0}\\
				\mathbf{B}_{d,k} & \mathbf{0} & \ldots & \mathbf{0} & \mathbf{0}\\
				\mathbf{0} & \mathbf{B}_{d,k+1} & \ldots & \mathbf{0} & \mathbf{0}\\
				\vdots & \vdots & \ddots & \vdots\\
				\mathbf{0} & \mathbf{0} & \ldots & \mathbf{B}_{d,k+N-1} & \mathbf{0}
				\end{bmatrix}\\
				\mathcal{D} &= \begin{bmatrix}
				\mathbb{I}\\
				\mathbf{0}\\
				\vdots\\
				\mathbf{0}\\
				\end{bmatrix}
				\end{aligned}
				\]

				<div>
					<a href="#dense-and-sparse-link" class="back-button">Back to <b>Dense & Sparse
							Formulations</b></a>
				</div>

			</div>
		</section>





		<!-- End of slides -->
		</div>
		</div>

		<!-- Plugins and more ------------------------------------------------>
		<script src="dist/reveal.js"></script>
		<script src="plugin/simplemenu/simplemenu.js"></script>
		<script src="plugin/zoom/zoom.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			// INFO: More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				
				// General configuration settings
				transition: 'fade',
				backgroundTransition: 'fade',
				hideInactiveCursor: true,
				hideCursorTime: 900,
				hash: true, // Reload to current slide
				disableLayout: true, // Enable standard CSS layout behavior

				// INFO: Simplemenu Top Bar
				// https://github.com/Martinomagnifico/reveal.js-simplemenu
				simplemenu: {
					inherit: "previous",
					barhtml: {
						header: "<div class='menubar'"+ 
										"style='"+
										"background-color: var(--primary);"+
										"color: var(--light);"+
										"z-index: 9999;"+
										"'><ul class='menu'></ul></div>"
					}
				},

				// INFO: Learn about plugins: https://revealjs.com/plugins/
				plugins: [
					Simplemenu,
					RevealMath.KaTeX,
					RevealHighlight,
					RevealNotes,
					RevealZoom,
				]
			});
		</script>

	</body>
</html>
